flows:
  - name: ingestQdrant
    description: "Agentes AI - Ingesta de Documentos"
    inflow:
      - name: embedd
        type: Embedder@v1
        description: Generar embedding a partir del payload (texto)
        properties:
          embedder:
            provider: ollama
            model: "embeddinggemma:latest"
            api_url: "http://localhost:11434/v1/embeddings"
            api_key: noname
          # Otra forma mas segura es obtener la informacion desde
          # parametros registrados en Hashicorp Vault
          from_vault: "secrets/ollama"
          # Indica que no se sobre escriba al payload sino que se
          # a√±ada una seccion mas al payload
          update_payload: embedding_vector
      - name: QdrantStore
        type: QdrantStore@v1
        description: Almacena la informacion en QDrant
        properties:
          # Otra forma mas segura es obtener la informacion desde
          # parametros registrados en Hashicorp Vault
          from_vault: secrets/qdrant
    outflow: 
      - name: ResponseOk
        type: JavaScript@v1
        description: Carga satisfactoria en Qdrant
        properties:
          code: |
            "Carga exitosa en Qdrant"
    exception: 
      - name: fault
        type: Fault@v1
        description: Reporte de falla
        properties:
          code: 1001
          message: Error al cargar en Qdrant